<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
    
    <title>A Learning Note of Functional Programming Part 2 - Some Common Terminology | andrew.dev.note</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="PrefaceThis is another note for introducing some common terms or words that you may see in functional programming world.
Examples here will be implemented in either vanilla JS or Ramda - a functional">
<meta property="og:type" content="article">
<meta property="og:title" content="A Learning Note of Functional Programming Part 2 - Some Common Terminology">
<meta property="og:url" content="http://yoursite.com/2017/04/17/A-Learning-Note-of-Functional-Programming-Part-2-Some-Common-Terminology/index.html">
<meta property="og:site_name" content="andrew.dev.note">
<meta property="og:description" content="PrefaceThis is another note for introducing some common terms or words that you may see in functional programming world.
Examples here will be implemented in either vanilla JS or Ramda - a functional">
<meta property="og:updated_time" content="2017-08-12T17:12:58.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="A Learning Note of Functional Programming Part 2 - Some Common Terminology">
<meta name="twitter:description" content="PrefaceThis is another note for introducing some common terms or words that you may see in functional programming world.
Examples here will be implemented in either vanilla JS or Ramda - a functional">
    

    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                
                <span class="site-title">andrew.dev.note</span>
            </a>
            <nav id="main-nav">
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="https://scontent-tpe1-1.xx.fbcdn.net/v/t1.0-9/11891179_10207520922489618_6751088857900600098_n.jpg?oh=ba20b2445bfbefabdecc6701ce3e2453&amp;oe=5A30C979" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <!-- <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div> -->
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                <!-- <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td> -->
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="https://scontent-tpe1-1.xx.fbcdn.net/v/t1.0-9/11891179_10207520922489618_6751088857900600098_n.jpg?oh=ba20b2445bfbefabdecc6701ce3e2453&amp;oe=5A30C979" />
            <h2 id="name">Andrew Yan</h2>
            <h3 id="title">Web Developer, Frontend Engineer, Software Engineer</h3>
            <!-- <span id="location"><i class="fa fa-map-marker"></i>Taipei, Taiwan</span> -->
            <!-- <a id="follow" target="_blank" href="https://github.com/ppoffice/">FOLLOW</a> -->
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                23
                <span>posts</span>
            </div>
            <div class="article-info-block">
                24
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/zushenyan" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://twitter.com/zushenyan" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.facebook.com/zushen.yan" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.linkedin.com/in/zushenyan" target="_blank" title="linkedin" class=tooltip>
                            <i class="fa fa-linkedin"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-A-Learning-Note-of-Functional-Programming-Part-2-Some-Common-Terminology" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            A Learning Note of Functional Programming Part 2 - Some Common Terminology
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2017/04/17/A-Learning-Note-of-Functional-Programming-Part-2-Some-Common-Terminology/">
            <time datetime="2017-04-17T15:28:59.000Z" itemprop="datePublished">2017-04-17</time>
        </a>
    </div>


                        
                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/FP/">FP</a>, <a class="tag-link" href="/tags/javascript/">javascript</a>, <a class="tag-link" href="/tags/meta/">meta</a>, <a class="tag-link" href="/tags/programming/">programming</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h1><p>This is another note for introducing some common terms or words that you may see in functional programming world.</p>
<p>Examples here will be implemented in either vanilla JS or <a href="http://ramdajs.com/" target="_blank" rel="external">Ramda</a> - a functional library that focuses on functional programming than other general-purpose same purpose libraries.</p>
<h1 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h1><p><code>Map</code> is a function which transforms data from one to any type (including itself):</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// array of number to array of number (transform to itself)</span></div><div class="line"><span class="comment">// [2,3,4]</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> x + <span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="comment">// array of number to array of obj (transform to other types)</span></div><div class="line"><span class="comment">// [</span></div><div class="line"><span class="comment">//   &#123; num: 1 &#125;,</span></div><div class="line"><span class="comment">//   &#123; num: 2 &#125;,</span></div><div class="line"><span class="comment">//   &#123; num: 3 &#125;</span></div><div class="line"><span class="comment">// ]</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> (&#123; <span class="attr">num</span>: x &#125;));</div></pre></td></tr></table></figure>
<h1 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h1><p><code>Filter</code> is a function which takes a <strong>predicate</strong> (a function takes an argument and return a boolean) and an list and finally returns an list:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// array of number to array of number</span></div><div class="line"><span class="comment">// [2,4]</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].filter(<span class="function"><span class="params">x</span> =&gt;</span> x % <span class="number">2</span> === <span class="number">0</span>);</div></pre></td></tr></table></figure>
<h1 id="Reduce"><a href="#Reduce" class="headerlink" title="Reduce"></a>Reduce</h1><p><code>Reduce</code> takes a function, an initial value and transforms data to any type (including itself):</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// array of number to nunber</span></div><div class="line"><span class="comment">// 10</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].reduce(</div><div class="line">  <span class="function">(<span class="params">acc, value</span>) =&gt;</span> &#123;</div><div class="line">    acc += value;</div><div class="line">    <span class="keyword">return</span> acc;</div><div class="line">  &#125;, <span class="number">0</span></div><div class="line">);</div></pre></td></tr></table></figure>
<h1 id="Transduce"><a href="#Transduce" class="headerlink" title="Transduce"></a>Transduce</h1><p>You might find that you can implement <code>map</code> and <code>filter</code> in <code>reduce</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map = <span class="function">(<span class="params">f, arr</span>) =&gt;</span> &#123;</div><div class="line">  arr.reduce(<span class="function">(<span class="params">acc, value</span>) =&gt;</span> &#123;</div><div class="line">    acc.push(f(value));</div><div class="line">    <span class="keyword">return</span> acc;</div><div class="line">  &#125;, []);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> filter = <span class="function">(<span class="params">predicate, arr</span>) =&gt;</span> &#123;</div><div class="line">  arr.reduce(<span class="function">(<span class="params">acc, value</span>) =&gt;</span> &#123;</div><div class="line">    f(value) &amp;&amp; acc.push(value);</div><div class="line">    <span class="keyword">return</span> acc;</div><div class="line">  &#125;, []);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Basically, <code>reduce</code> does two things at same time - <strong>transform</strong> and <strong>accumulation</strong>, but in FP, a good function only does one thing at a time.</p>
<p>Separating helps function composition and code reusability. We can achieve that by using <code>transduce</code> - a function takes <code>transducer</code>, <code>accumulator</code> functions and an initial value as arguments.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Ramds's transduce.</span></div><div class="line"><span class="keyword">const</span> data       = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line"><span class="keyword">const</span> double     = <span class="function">(<span class="params">x</span>) =&gt;</span> x * <span class="number">2</span>; <span class="comment">// transformer</span></div><div class="line"><span class="keyword">const</span> add        = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y; <span class="comment">// accumulator</span></div><div class="line"><span class="keyword">const</span> transducer = R.map(double); <span class="comment">// transformer's collection</span></div><div class="line">R.transduce(transducer, add, <span class="number">0</span>, data); <span class="comment">// 12</span></div></pre></td></tr></table></figure>
<h1 id="Curry"><a href="#Curry" class="headerlink" title="Curry"></a>Curry</h1><p>Outside the world of FP, functions can only be carried out when all arguments have been passed in.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y;</div><div class="line">add(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// 3</span></div></pre></td></tr></table></figure></p>
<p>In FP world, functions will be executed only when the last argument has been passed in. A curried function with partially arguments being passed in is called <strong>partially applied</strong> function.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Here I use Ramda's curry to make a function curried</span></div><div class="line"><span class="keyword">const</span> add = R.curry(<span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y);</div><div class="line"><span class="keyword">const</span> add1 = add(<span class="number">1</span>); <span class="comment">// when the last argument hasn't been fulfilled, returns a function instead;</span></div><div class="line">add1(<span class="number">2</span>); <span class="comment">// 3</span></div><div class="line">add(<span class="number">1</span>)(<span class="number">2</span>); <span class="comment">// or you can do this</span></div><div class="line">add(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// all of them result the same</span></div></pre></td></tr></table></figure>
<p>And here is a simple <code>curry</code> implementation taking up to 2 arguments only:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> curry      = <span class="function">(<span class="params">fn</span>) =&gt;</span> (x) =&gt; <span class="function">(<span class="params">y</span>) =&gt;</span> fn(x, y);</div><div class="line"><span class="keyword">const</span> add        = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y;</div><div class="line"><span class="keyword">const</span> curriedAdd = curry(add);</div><div class="line">curriedAdd(<span class="number">1</span>)(<span class="number">2</span>); <span class="comment">// 3</span></div></pre></td></tr></table></figure>
<p>Curry is good for function composition, I will introduce them in next section.</p>
<h1 id="Compose"><a href="#Compose" class="headerlink" title="Compose"></a>Compose</h1><p><code>compose</code> is a function that takes many <strong>transformers</strong> and compresses them into a function. This is also called <code>pipe</code> or <code>sequence</code> in other languages or libraries.</p>
<p>For the sake of simplicity I only make <code>compose</code> take two functions. In practical world <code>compose</code> can actually take as many functions as you want, not limit to two.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> compose            = R.curry(<span class="function">(<span class="params">f, g</span>) =&gt;</span> (val) =&gt; f(g(val)));</div><div class="line"><span class="keyword">const</span> trim               = <span class="function">(<span class="params">x</span>) =&gt;</span> x.trim();</div><div class="line"><span class="keyword">const</span> toUpperCase        = <span class="function">(<span class="params">x</span>) =&gt;</span> x.toUpperCase();</div><div class="line"><span class="keyword">const</span> trimAndToUpperCase = compose(trim, toUpperCase);</div><div class="line">trimAndToUpperCase(<span class="string">"  Hello World  "</span>); <span class="comment">// "HELLO WORLD"</span></div></pre></td></tr></table></figure>
<p>Beware of its evaluation order - <code>f(g(val))</code>, functions will be evaluated in upside down. If you think it is not human friendly, in Ramda you can use <a href="http://ramdajs.com/docs/#pipe" target="_blank" rel="external">pipe</a> to get it evaluated from top to down.</p>
<p>Here it’s why <code>curry</code> shines. The benefit of <code>curry</code> is when using with <code>compose</code>, we don’t have to mention data when building our transformer. Processing data without mentioning <strong>at initial</strong> is called <strong>point-of-free</strong> or <strong>pointfree</strong>. In other words we only care about our data’s name when we start transforming.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> add1          = <span class="function">(<span class="params">x</span>) =&gt;</span> x + <span class="number">1</span>;</div><div class="line"><span class="keyword">const</span> double        = <span class="function">(<span class="params">x</span>) =&gt;</span> x * <span class="number">2</span>;</div><div class="line"></div><div class="line"><span class="comment">// not pointfree</span></div><div class="line"><span class="keyword">const</span> add1AndDouble = <span class="function">(<span class="params">data</span>) =&gt;</span> double(add1(data));</div><div class="line"></div><div class="line"><span class="comment">// pointfree</span></div><div class="line"><span class="keyword">const</span> betterAdd1AndDouble = R.compose(add1, double);</div></pre></td></tr></table></figure>
<h1 id="Functor"><a href="#Functor" class="headerlink" title="Functor"></a>Functor</h1><p><code>Functor</code> in short explanation is:</p>
<ul>
<li>a container traps values inside.</li>
<li>container can trap anything, like function or even <code>Functor</code> itself.</li>
<li><code>Functor</code> is an <strong>mappable</strong> object. Something implements <code>map</code> function.</li>
</ul>
<p>Here is a <code>Functor</code> implemented in OOP.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Functor</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(val)&#123;</div><div class="line">    <span class="keyword">this</span>._val = val;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">static</span> <span class="keyword">of</span>(val)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Functor(val);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  map(f)&#123;</div><div class="line">    <span class="keyword">return</span> Functor.of(f(<span class="keyword">this</span>._val));</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// &#123; _val: 6 &#125;</span></div><div class="line">Functor.of(<span class="number">5</span>).map(<span class="function"><span class="params">x</span> =&gt;</span> x + <span class="number">1</span>);</div></pre></td></tr></table></figure>
<p>There is a very common example of <code>Functor</code> that every JS developer is familiar with - array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> x + <span class="number">1</span>);</div></pre></td></tr></table></figure>
<p>There are two common advanced types of <code>Functor</code> - one is <code>Maybe</code> and the other is <code>Either</code>.</p>
<h3 id="Maybe"><a href="#Maybe" class="headerlink" title="Maybe"></a>Maybe</h3><p>In other languages like Scala or OCaml, <code>Maybe</code> is also called <code>Option</code>. <code>Maybe</code> is a type which represents <strong>something</strong> or <strong>nothing</strong>.</p>
<p>This is especially good when dealing with <code>Functors</code> containing a <strong>null</strong> value, because when you try to apply function to <strong>null</strong> value, it fails softly.</p>
<p>You won’t confuse your user with an wild error or stuck them in plain white screen.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Maybe</span> <span class="keyword">extends</span> <span class="title">Functor</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> <span class="keyword">of</span>(val)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Maybe(val);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  map(f)&#123;</div><div class="line">    <span class="keyword">return</span> Maybe.of(<span class="keyword">this</span>._val &amp;&amp; f(<span class="keyword">this</span>._val));</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> add1 = <span class="function">(<span class="params">x</span>) =&gt;</span> x + <span class="number">1</span>;</div><div class="line">Maybe.of(<span class="number">5</span>).map(add1); <span class="comment">// 6</span></div><div class="line">Maybe.of(<span class="literal">null</span>).map(add1); <span class="comment">// null</span></div></pre></td></tr></table></figure>
<h1 id="Either"><a href="#Either" class="headerlink" title="Either"></a>Either</h1><p>Most programming languages have <code>throw/catch</code> mechanics for error handling,<br>however <code>throw/catch</code> isn’t nice in FP because of two reasons:</p>
<ul>
<li>it breaks the composition of functions.</li>
<li><code>throw/catch</code> hard fails program if errors were not caught. This is not a pure action.</li>
</ul>
<p><code>Either</code> is the right candidate for this scenario. Basically it’s like <strong>ternary operator</strong> <code>condition ? exp1 : exp2</code>,<br>except it’s a function:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">either(left, right, val)</div></pre></td></tr></table></figure>
<p>It execute/return <code>right</code> only when the condition of <code>right</code> has been fulfilled, otherwise <code>left</code> instead.</p>
<p>Here it’s a simple implementation of <code>Either</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Either</span></span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(left, right)&#123;</div><div class="line">    <span class="keyword">this</span>.left = left;</div><div class="line">    <span class="keyword">this</span>.right = right;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">static</span> <span class="keyword">of</span>(left, right)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Either(left, right);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  map(f)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.right ? Either.of(<span class="keyword">this</span>.left, f(<span class="keyword">this</span>.right)) : Either.of(f(<span class="keyword">this</span>.left), <span class="keyword">this</span>.right);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">x</span>) =&gt;</span> x + <span class="number">1</span>;</div><div class="line">Either.of(<span class="number">123</span>, <span class="number">456</span>).map(add); <span class="comment">// Either(123, 457)</span></div><div class="line">Either.of(<span class="number">123</span>, <span class="literal">null</span>).map(add); <span class="comment">// Either(124, null)</span></div></pre></td></tr></table></figure>
<h1 id="Applicative-Functor"><a href="#Applicative-Functor" class="headerlink" title="Applicative Functor"></a>Applicative Functor</h1><p><code>Applicative Functor (AP)</code> is an advanced type of <code>Functor</code>. I just mentioned <code>Functor</code> can contain anything including functions, and one of the definition of <code>Functor</code> is it’s <strong>mappable</strong>. Now here comes a question - how do you <code>map</code> a function?</p>
<p>The answer is we use <code>ap</code> to apply arguments to functions:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Functor</span></span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(val)&#123;</div><div class="line">    <span class="keyword">this</span>._val = val;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">static</span> <span class="keyword">of</span>(val)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Functor(val);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  map(f)&#123;</div><div class="line">    <span class="keyword">return</span> Functor.of(f(<span class="keyword">this</span>._val));</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// F means functor not function</span></div><div class="line">  ap(F)&#123;</div><div class="line">    <span class="keyword">return</span> Functor.of(<span class="keyword">this</span>._val(F._val));</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> add = curry(<span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y); <span class="comment">// a curried version of add</span></div><div class="line"></div><div class="line">Functor.of(add).ap(Functor.of(<span class="number">5</span>)).ap(Functor.of(<span class="number">6</span>)); <span class="comment">// Functor(11)</span></div><div class="line">Functor.of(add(<span class="number">5</span>)).ap(Functor.of(<span class="number">6</span>)); <span class="comment">// Functor(11)</span></div><div class="line">Functor.of(<span class="number">5</span>).map(add).ap(Functor.of(<span class="number">6</span>)) <span class="comment">// Functor(11)</span></div><div class="line">Functor.of(<span class="number">5</span>).map(add(<span class="number">6</span>)); <span class="comment">// Functor(11)</span></div></pre></td></tr></table></figure>
<h3 id="lift"><a href="#lift" class="headerlink" title="lift"></a>lift</h3><p>Let’s take a look at this example more closely:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Functor.of(add).ap(Functor.of(<span class="number">5</span>)).ap(Functor.of(<span class="number">6</span>));</div></pre></td></tr></table></figure>
<p>This syntax is not quite elegant and functional enough. What if I already have <code>add</code> function and I want to make it able to automatically process it’s argument in <code>Functor</code> level?</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// As we know `Array` is a common kind of Functor.</span></div><div class="line"><span class="comment">// expect [3]</span></div><div class="line">add([<span class="number">1</span>], [<span class="number">2</span>]); <span class="comment">// "12" Oops</span></div></pre></td></tr></table></figure>
<p>let’s use <code>lift</code> to <strong>lift its arguments to functor</strong> without using <code>Functor.of(x)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Use Ramda's add because it's already curried.</span></div><div class="line"><span class="comment">// Use Ramda's lift to do lifting.</span></div><div class="line"><span class="keyword">const</span> addA2 = lift(add);</div><div class="line">addA2([<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>,<span class="number">4</span>]); <span class="comment">// [4,7,5,8] remember functor is mappable.</span></div></pre></td></tr></table></figure>
<h1 id="Monad"><a href="#Monad" class="headerlink" title="Monad"></a>Monad</h1><p>There is another scenario - anything can be a value of <code>Functor</code>, including <code>Functor</code> itself.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Functor.of(</div><div class="line">  Functor.of(</div><div class="line">    Functor.of(<span class="number">42</span>)</div><div class="line">  )</div><div class="line">);</div></pre></td></tr></table></figure>
<p>With <code>Functor</code> in this status, our <code>map</code> magic doesn’t work. In order to apply function to our value, we have to <strong>flatten</strong> it first.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Functor</span></span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(val)&#123;</div><div class="line">    <span class="keyword">this</span>._val = val;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">static</span> <span class="keyword">of</span>(val)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Functor(val);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  map(f)&#123;</div><div class="line">    <span class="keyword">return</span> Functor.of(f(<span class="keyword">this</span>._val));</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  join()&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._val;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  flatMap(f)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.join().map(f);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> add1 = <span class="function">(<span class="params">x</span>) =&gt;</span> x + <span class="number">1</span>;</div><div class="line"><span class="keyword">const</span> num = Functor.of(Functor.of(<span class="number">42</span>)).flatMap(add1); <span class="comment">// Functor(43)</span></div></pre></td></tr></table></figure>
<p>The <code>flatten</code> and <code>map</code> approach is called <code>flatMap</code>. <code>flatMap</code> is also called <code>chain</code> in JS or other languages.</p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul>
<li><a href="https://github.com/hemanth/functional-programming-jargon" target="_blank" rel="external">functional programming jargon</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2017/02/fp-tutorial.html" target="_blank" rel="external">函数式编程入门教程</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2017/03/reduce_transduce.html" target="_blank" rel="external">Reduce 和 Transduce 的含义</a></li>
<li><a href="https://medium.com/@roman01la/understanding-transducers-in-javascript-3500d3bd9624" target="_blank" rel="external">Understanding Transducers in JavaScript</a></li>
<li><a href="http://www.russbishop.net/monoids-monads-and-functors" target="_blank" rel="external">Functors, Applicatives, and Monads in Plain English</a></li>
<li><a href="https://www.slideshare.net/kenbot/category-theory-for-beginners" target="_blank" rel="external">category theory for beginner</a></li>
<li><a href="https://drboolean.gitbooks.io/mostly-adequate-guide/content/" target="_blank" rel="external">mostly adequate guide</a></li>
<li><a href="https://medium.com/@tzehsiang/javascript-functor-applicative-monads-in-pictures-b567c6415221" target="_blank" rel="external">Javascript Functor, Applicative, Monads in pictures</a></li>
<li><a href="http://stackoverflow.com/questions/36558598/cant-wrap-my-head-around-lift-in-ramda-js" target="_blank" rel="external">Can’t wrap my head around “lift” in Ramda.js</a></li>
</ul>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2017/04/17/A-Learning-Note-of-Functional-Programming-Part-2-Some-Common-Terminology/" data-id="cj69km6lm0010zkgshuprz5u6" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/08/10/GraphQL-vs-REST-My-Review/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Newer</strong>
            <div class="article-nav-title">
                
                    GraphQL vs REST - My Review
                
            </div>
        </a>
    
    
        <a href="/2017/04/05/A-Learning-Note-to-Functional-Programming-Part-1/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">A Learning Note of Functional Programming Part 1 - Some Basic Concepts</div>
        </a>
    
</nav>


    
</article>

<!-- 
    
    
        <section id="comments">
	<div id="commentContainer"></div>
</section>
    

 -->
</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/AJAX/" style="font-size: 10px;">AJAX</a> <a href="/tags/CORS/" style="font-size: 10px;">CORS</a> <a href="/tags/FP/" style="font-size: 12px;">FP</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP-HTTPS/" style="font-size: 16px;">HTTP/HTTPS</a> <a href="/tags/PWA/" style="font-size: 10px;">PWA</a> <a href="/tags/REST/" style="font-size: 10px;">REST</a> <a href="/tags/architecture/" style="font-size: 10px;">architecture</a> <a href="/tags/backend/" style="font-size: 12px;">backend</a> <a href="/tags/concurrent/" style="font-size: 12px;">concurrent</a> <a href="/tags/frontend/" style="font-size: 18px;">frontend</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/interview/" style="font-size: 10px;">interview</a> <a href="/tags/javascript/" style="font-size: 20px;">javascript</a> <a href="/tags/meta/" style="font-size: 18px;">meta</a> <a href="/tags/mobile/" style="font-size: 12px;">mobile</a> <a href="/tags/network/" style="font-size: 14px;">network</a> <a href="/tags/octopress/" style="font-size: 10px;">octopress</a> <a href="/tags/programming/" style="font-size: 12px;">programming</a> <a href="/tags/redux/" style="font-size: 10px;">redux</a> <a href="/tags/testing/" style="font-size: 10px;">testing</a> <a href="/tags/web/" style="font-size: 16px;">web</a> <a href="/tags/websocket/" style="font-size: 10px;">websocket</a>
        </div>
    </div>

    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2017 Andrew Yan<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        


    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>