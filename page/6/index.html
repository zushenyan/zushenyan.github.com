<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Andrew&#39;s Cache</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Andrew&#39;s Cache">
<meta property="og:url" content="http://zushenyan.github.io/page/6/index.html">
<meta property="og:site_name" content="Andrew&#39;s Cache">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Andrew Yan">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Andrew's Cache" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Andrew&#39;s Cache</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://zushenyan.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-backend-fundamental-cookie-and-session" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/11/20/backend-fundamental-cookie-and-session/" class="article-date">
  <time class="dt-published" datetime="2015-11-20T14:35:27.000Z" itemprop="datePublished">2015-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/11/20/backend-fundamental-cookie-and-session/">Backend Fundamental - Cookie and Session</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Yet-Another-Cookie-Session-Explanation"><a href="#Yet-Another-Cookie-Session-Explanation" class="headerlink" title="Yet Another Cookie &amp; Session Explanation?"></a>Yet Another Cookie &amp; Session Explanation?</h1><p>Currently I am working on a website with user account written with Node. I did have some backend experience though, but it was around 2 years ago. Grabbing memories back needs some effort.</p>
<p>To engrave these concepts into my brain more deeper, I have to write it down, and this time, it will go advance rather than simply explaining “Cookie is this and Session is that. Done!”</p>
<h1 id="Why-Use-Cookie-Session"><a href="#Why-Use-Cookie-Session" class="headerlink" title="Why Use Cookie &amp; Session?"></a>Why Use Cookie &amp; Session?</h1><p>HTTP is a stateless protocol, which means it forgets anything about information it carried last time. In order to maintain a persistent communication between client and server, cookie and session were invented.</p>
<h1 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h1><p>Cookie is a traditional way to save <strong>non-sensitive</strong> user informations in browsers. To sum up the feature of Cookie:</p>
<ul>
<li>Cookie is a key-value set.</li>
<li>Cookie is sent via HTTP.</li>
<li>Cookie is an attribute of HTTP header.</li>
<li>Every cookie has its own attributes:<ul>
<li>Domain - tells the browser which domain it belongs to. Usually this should be current resource’s top domain. If you set it to <code>.com</code>, every sub-domain of <code>.com</code> like <code>google.com</code> will be able to access this cookie.</li>
<li>Path - almost identical to the <code>domain</code> attribute, but only relative to current resource’s top domain. This tells the browser when to send this cookie on what path.</li>
<li>Expires - tells the browser to delete this cookie on a specified date.</li>
<li>Max-Age - tells the browser to delete this cookie on a specified time relative to now in second.</li>
<li>Secure - can only be sent via HTTPS or not. Make it on for more serious security concern.</li>
<li>HttpOnly - should be allowed to access by JavaScript or not. Normally it’s on to prevent from Cross-Site-Script attack.</li>
</ul>
</li>
<li>Can only support up to 4096 bytes in size.</li>
</ul>
<p>When I mention about <strong>non-sensitive</strong> informations I mean:</p>
<ul>
<li>Session ID - most websites nowadays no longer store “shopping cart” or anything user-sensitive in the cookie. Instead, They store an unique ID generated by the server for looking up corresponding user at server side database.</li>
<li>Personal Preferences - the background user like, the font size user preferred…etc.</li>
<li>Browsing Habits - remember login, the last page user visited, the browsing histories of one user…etc.</li>
</ul>
<p>The reason why cookie should never store sensitive data like username, password or credit card number is that cookies are more easily to be intercepted or tampered. Though you can send cookies by <strong>https</strong> or using <strong>signed cookie</strong>(which will be introduced latter) to store hashed data, exposing more informations means lower the cost and difficulty of cracking, and thus the best way is don’t even store sensitive data to the cookie.</p>
<p>Typical ways to set cookie in Node:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">function</span>(<span class="params">req, res, next</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> rawCookie = req.<span class="title function_">get</span>(<span class="string">&quot;cookie&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> cookie = &#123;<span class="attr">count</span>: <span class="number">1</span>&#125;;</span><br><span class="line">  <span class="keyword">if</span>(rawCookie)&#123;</span><br><span class="line">    cookie.<span class="property">count</span> = <span class="built_in">parseInt</span>(rawCookie.<span class="title function_">split</span>(<span class="string">&quot;=&quot;</span>)[<span class="number">1</span>]);</span><br><span class="line">    cookie.<span class="property">count</span>++;</span><br><span class="line">  &#125;</span><br><span class="line">  res.<span class="title function_">append</span>(<span class="string">&quot;set-cookie&quot;</span>, <span class="string">&quot;count=&quot;</span> + cookie.<span class="property">count</span> + <span class="string">&quot;;max-age=5&quot;</span>);</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&quot;count: &quot;</span> + cookie.<span class="property">count</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<p>This will increase <code>count</code> by one when user visits <code>localhost:3000</code> in 5 seconds. If user doesn’t visit again in 5 seconds, set count to 1.</p>
<p>Accessing to cookie is such a pain, right? <code>cookie-parse</code> to the rescue!</p>
<p><code>npm install cookie-parse</code> and then…</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> cookieParser = <span class="built_in">require</span>(<span class="string">&quot;cookie-parser&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cookieParser</span>());</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">function</span>(<span class="params">req, res, next</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> count = <span class="built_in">parseInt</span>(req.<span class="property">cookies</span>.<span class="property">count</span>, <span class="number">10</span>);</span><br><span class="line">  count = count ? count + <span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">  res.<span class="title function_">cookie</span>(<span class="string">&quot;count&quot;</span>, count.<span class="title function_">toString</span>(), &#123;<span class="attr">maxAge</span>: <span class="number">5000</span>&#125;);</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&quot;count: &quot;</span> + count);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<p>Tada! I am sure there are something like <code>cookie-parser</code> which exists in other languages.</p>
<h1 id="Common-Variation-Of-Cookies"><a href="#Common-Variation-Of-Cookies" class="headerlink" title="Common Variation Of Cookies"></a>Common Variation Of Cookies</h1><h4 id="Session-Cookie"><a href="#Session-Cookie" class="headerlink" title="Session Cookie"></a>Session Cookie</h4><p>Session cookie is contrary to persistent cookie(or just called it cookie) and only lives when user is still browsing the website. When user closes the browser, the session cookie is deleted by the browser as well.</p>
<p>A common usage of session cookie is storing session ID. Session ID is an unique ID generated by the server and was stored when connection is established. Session ID is used for letting the server know who the current user is in order to look up relative informations in the database.</p>
<p>Setting a session cookie is simple - just leave <code>expires</code> and <code>maxAge</code> attributes empty.</p>
<p>Use <code>npm install express-session</code> for saving time of building another wheel.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="built_in">require</span>(<span class="string">&quot;express-session&quot;</span>)(&#123;</span><br><span class="line">  <span class="attr">secret</span>: <span class="string">&quot;i am a secret&quot;</span>,</span><br><span class="line">  <span class="attr">resave</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">saveUninitialized</span>: <span class="literal">true</span></span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">function</span>(<span class="params">req, res, next</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> count = req.<span class="property">session</span>.<span class="property">count</span>;</span><br><span class="line">  count = count ? count + <span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">  req.<span class="property">session</span>.<span class="property">count</span> = count;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&quot;count: &quot;</span> + req.<span class="property">session</span>.<span class="property">count</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<p>By using <code>express-session</code>, a cookie named <code>connect.sid</code> will be stored with a <strong>hashed value plus a signature aside</strong> in the browser.</p>
<p>As for session ID security topic I’d recommend <a target="_blank" rel="noopener" href="http://security.stackexchange.com/questions/92122/why-is-it-insecure-to-store-the-session-id-in-a-cookie-directly">here</a> for further reading.</p>
<h4 id="Signed-Cookie"><a href="#Signed-Cookie" class="headerlink" title="Signed Cookie"></a>Signed Cookie</h4><p>In web development world, you will accidentally bump into a word - <strong>Signed Cookie</strong>. What is it? Basically, a signed cookie stores a value by appending a signature after it. According to frameworks, they claimed that by singing values, server can determine if this value is tampered, however there are some debates on this topic:</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://security.stackexchange.com/questions/92122/why-is-it-insecure-to-store-the-session-id-in-a-cookie-directly">Why is it insecure to store the session ID in a cookie directly?</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/expressjs/session/issues/68">Why sign the cookie?</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/expressjs/session/issues/176">Why doesn’t this module store the raw session ID in the cookie directly?</a></li>
<li><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/3240246/signed-session-cookies-a-good-idea">Signed session cookies. A good idea?</a></li>
</ul>
<p>I am not an expert at security so can’t do any assertion. I will just leave it here.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> cookieParser = <span class="built_in">require</span>(<span class="string">&quot;cookie-parser&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cookieParser</span>(<span class="string">&quot;write down your secret here&quot;</span>));</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">function</span>(<span class="params">req, res, next</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> count = <span class="built_in">parseInt</span>(req.<span class="property">signedCookies</span>.<span class="property">count</span>, <span class="number">10</span>);</span><br><span class="line">  count = count ? count + <span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">  res.<span class="title function_">cookie</span>(<span class="string">&quot;count&quot;</span>, count, &#123;<span class="attr">signed</span>: <span class="literal">true</span>&#125;);</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&quot;count: &quot;</span> + count);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<p>This is a showcase of how to use signed cookie in Node with express’ extension module. Signature changes whenever <code>count</code> changes.</p>
<h1 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h1><p>We have dealt with storing informations on the client side, so what exactly session is? Well, session is just an description of state that when the connection between client and server is alive, session lives, when connection closes, session ends.</p>
<p>The main task that session runs is telling the server which one is the current client by giving each client an unique id, it’s called session ID. There are several possible places to store the session ID:</p>
<h4 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h4><p>Fast, but not practical. Let’s assume you have prepared a database for storing the actual data of users, and only store session ID in memory, and use session ID to look up corresponding user informations in database, but in most cases, we expect hundreds of clients to maintain its’ session between server, which means these session data will eat up some part of memory, which it’s not a smart move, and plus, you will have to deal with data sharing problem like race condition in concurrent environments.</p>
<h4 id="Cookie-1"><a href="#Cookie-1" class="headerlink" title="Cookie"></a>Cookie</h4><p>A common place to store session ID. Usually used with database where actual user information lays.</p>
<h4 id="Database"><a href="#Database" class="headerlink" title="Database"></a>Database</h4><p>We also generate something corresponding to the session ID for indexing the actual place where user information belongs to and still have to combine forces of memory and cookie to store our session ID, why? Because indexing in database is way more time costly than indexing in memory.</p>
<p>Here I use <a target="_blank" rel="noopener" href="http://redis.io/">Redis</a> to give a quick database showcase. Install package file from Redis to benefit full support.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> session = <span class="built_in">require</span>(<span class="string">&quot;express-session&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> db = <span class="built_in">require</span>(<span class="string">&quot;redis&quot;</span>).<span class="title function_">createClient</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line">db.<span class="title function_">on</span>(<span class="string">&quot;error&quot;</span>, <span class="keyword">function</span>(<span class="params">err, reply</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">db.<span class="title function_">on</span>(<span class="string">&quot;connect&quot;</span>, <span class="keyword">function</span>(<span class="params">err, reply</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;connected to database...&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">session</span>(&#123;</span><br><span class="line">    <span class="attr">secret</span>: <span class="string">&quot;such secret much safe wow&quot;</span>,</span><br><span class="line">    <span class="attr">resave</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">saveUninitialized</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;));</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">function</span>(<span class="params">req, res, next</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> count = <span class="number">1</span>;</span><br><span class="line">  db.<span class="title function_">hget</span>([req.<span class="property">session</span>.<span class="property">id</span>, <span class="string">&quot;count&quot;</span>], <span class="keyword">function</span>(<span class="params">err, reply</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(err)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err); <span class="keyword">return</span>;&#125;</span><br><span class="line">    <span class="keyword">if</span>(reply)&#123;</span><br><span class="line">      count = ++reply;</span><br><span class="line">      db.<span class="title function_">hset</span>([req.<span class="property">session</span>.<span class="property">id</span>, <span class="string">&quot;count&quot;</span>, count], logErr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123; db.<span class="title function_">hset</span>([req.<span class="property">session</span>.<span class="property">id</span>, <span class="string">&quot;count&quot;</span>, count], logErr); &#125;</span><br><span class="line">    res.<span class="title function_">send</span>(<span class="string">&quot;count: &quot;</span> + count);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logErr</span>(<span class="params">err, reply</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(err)&#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(err); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>Web development is all about security. When developers want to take advantages of cookie and session, some principles should be concerned:</p>
<ul>
<li>Cookie should not store sensitive data.</li>
<li>Set cookie’s <code>secure</code> attribute on if HTTPS is available.</li>
<li>Set cookie’s <code>HttpOnly</code> attribute on if possible to prevent man-in-the-middle from tampering.</li>
<li>Use Signed Cookie technique to have signed values.</li>
<li>If you still consider Signed Cookies are not secure enough, deal it like you deal with passwords.</li>
</ul>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/HTTP_cookie">Wikipedia - HTTP Cookie</a></li>
<li><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/706858/what-information-is-ok-to-store-in-cookies">What information is OK to store in cookies?</a></li>
<li><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/11897965/what-are-signed-cookies-in-connect-expressjs">What are “signed” cookies in connect&#x2F;expressjs?</a></li>
<li><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/3240246/signed-session-cookies-a-good-idea">Signed session cookies. A good idea?</a></li>
<li><a target="_blank" rel="noopener" href="http://wiki.jikexueyuan.com/project/node-lessons/cookie-session.html">cookie 和 session</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zushenyan.github.io/2015/11/20/backend-fundamental-cookie-and-session/" data-id="clo7rg5lj001km7or8hibgqr4" data-title="Backend Fundamental - Cookie and Session" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/backend/" rel="tag">backend</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/" rel="tag">web</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-asynchronous-programming-in-javascript" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/10/26/asynchronous-programming-in-javascript/" class="article-date">
  <time class="dt-published" datetime="2015-10-26T14:24:59.000Z" itemprop="datePublished">2015-10-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/10/26/asynchronous-programming-in-javascript/">Asynchronous Programming in JavaScript</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Purpose"><a href="#Purpose" class="headerlink" title="Purpose"></a>Purpose</h1><p>Just a learning note here. There are already tons of glorious posts talking about this topic, so don’t expect to see something super edge, extreme frontier technology here.</p>
<h1 id="What-is-asynchronous"><a href="#What-is-asynchronous" class="headerlink" title="What is asynchronous?"></a>What is asynchronous?</h1><p>Before moving on, knowing what exactly is Asynchronous is essential.</p>
<p>Synchronous, contrary to Asynchronous, means blocking. That means computer can only run a task at one time. Before finishing this one, another will not start.</p>
<p>When we mention about Asynchronous, we are referring to non-blocking, which means, computer runs a tasks without “blocking” other tasks.</p>
<p>And don’t confuse Asynchronous with words Concurrency or Parallel, they are different things.</p>
<p>Parallel usually refers to true multi-tasking, which means computer distributes several tasks among processors. In this way, tasks are executed in real simultaneously.</p>
<p>Concurrent is a concept of having a group of tasks sharing an execution thread with each other to let them run simultaneously. Asynchronous and Synchronous are just descriptions of state between tasks.</p>
<h1 id="How-does-it-work-in-JavaScript"><a href="#How-does-it-work-in-JavaScript" class="headerlink" title="How does it work in JavaScript?"></a>How does it work in JavaScript?</h1><p>JavaScript is an event-driven language and it uses an event-loop to get codes run in asynchronous. JavaScript is also called single-threaded language because it can only run a piece of code at a time.</p>
<p>So, does that mean JavaScript is really a single-threaded language? Hmm, not accurate. No matter what platform JavaScript is on, either client side(browsers) or server side(Node.js), there is actually a thread pool underneath it.</p>
<p>After digging here and there on the web, I realized to explicitly explain how does it work is a huge thing, and it really hurts your head. For the sake of simplicity, here is my simple version:</p>
<p>JavaScript on both client and server side use one thread for code execution, another one for taking care of event loop, and all of others for handling events and triggering handlers. Whenever interpreter runs into async code like <code>button.click()</code>(UI events) or <code>fs.readFile()</code> (I&#x2F;O events), it pushes callbacks into an event queue, and after all things in main function are done, it pops callbacks in queue to get these executed.</p>
<p>And…that’s it. :P</p>
<p>To get more illustration, visit <a target="_blank" rel="noopener" href="http://latentflip.com/loupe/">this awesome site</a>. The website visualizes how event loop works in JavaScript in a very clear manner, and if it still can’t satisfy you, scroll down to References &amp; Resources for further reading.</p>
<h1 id="Callback"><a href="#Callback" class="headerlink" title="Callback"></a>Callback</h1><p>So, how do we take advantage of async? Well, the answer is pretty simple:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Wolrd!&quot;</span>);</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>When you set an callback on an event, you are using async. Another common practice is using ajax:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ajax = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">ajax.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;http://www.example.com&quot;</span>);</span><br><span class="line">ajax.<span class="title function_">addEventListener</span>(<span class="string">&quot;readystatechange&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(ajax.<span class="property">readyState</span> === <span class="number">4</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(ajax.<span class="property">state</span> === <span class="number">200</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(ajax.<span class="property">responseText</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">ajax.<span class="title function_">send</span>();</span><br></pre></td></tr></table></figure>

<p>Callback really fulfills our need for async, but when our program grows larger, our callback logic may become complicated as well, which results in some nasty and hard-to-maintained code.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">request</span>(<span class="string">&quot;http://www.example.com/api/data1&quot;</span>, <span class="keyword">function</span>(<span class="params">result, status</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(status === <span class="string">&quot;OK&quot;</span>)&#123;</span><br><span class="line">    <span class="title function_">request</span>(<span class="string">&quot;http://www.example.com/api/data2&quot;</span>, <span class="keyword">function</span>(<span class="params">result, status</span>)&#123;</span><br><span class="line">      <span class="keyword">if</span>(status === <span class="string">&quot;OK&quot;</span>)&#123;</span><br><span class="line">        <span class="title function_">request</span>(<span class="string">&quot;http://www.example.com/api/data3&quot;</span>, <span class="keyword">function</span>(<span class="params">result, status</span>)&#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>What worse than callback hell is that you can’t even catch exceptions which was thrown in callback. This will lead our program unpredictable.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;you can&#x27;t catch me!&quot;</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(e)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Caught one!&quot;</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Here is actually exception was thrown.</span></span><br></pre></td></tr></table></figure>

<p>Luckily, there is a new feature called Promise which can save you from this mess.</p>
<h1 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h1><p>Promise is ES6’s feature. With this, you can simplify complicated callbacks into human readable one:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// if request returns Promises</span></span><br><span class="line"><span class="title function_">request</span>(<span class="string">&quot;http://www.example.com/api/data&quot;</span>)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> result.<span class="property">status</span> === <span class="string">&quot;OK&quot;</span> ? <span class="title function_">request</span>(<span class="string">&quot;http://www.example.com/api/data2&quot;</span>) : <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Something went wrong while requesting data 2&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> result.<span class="property">status</span> === <span class="string">&quot;OK&quot;</span> ? <span class="title function_">request</span>(<span class="string">&quot;http://www.example.com/api/data3&quot;</span>) : <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Something went wrong while requesting data 3&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>This is much easier to read, right? Did I just mention about exception?</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="title function_">doSomething</span>();</span><br><span class="line">  <span class="keyword">if</span>(result)&#123;</span><br><span class="line">    <span class="title function_">resolve</span>(result);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">reject</span>(result.<span class="property">reason</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Succeed: &quot;</span> + result);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title function_">cathc</span>(<span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Oops, something went wrong: &quot;</span> + reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>In this way you can solve async problem elegantly.</p>
<p>Using Babel like me? Insert <code>require(&quot;babel/polyfill&quot;)</code> at the head of your code to enable this goodie.</p>
<p>If in your environment ES6 is not allowed, don’t be sad, there are tons of libraries implementing this awesome feature!</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://bluebirdjs.com/docs/getting-started.html">Bluebird</a></li>
<li><a target="_blank" rel="noopener" href="https://api.jquery.com/category/deferred-object/">jQuery - Deferred</a></li>
<li><a target="_blank" rel="noopener" href="http://documentup.com/kriskowal/q/">Q</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/cujojs/when/blob/master/docs/api.md">when</a></li>
<li>…I only named a few, google <code>js promise lib</code> for more!</li>
</ul>
<h1 id="Async-Await"><a href="#Async-Await" class="headerlink" title="Async&#x2F;Await"></a>Async&#x2F;Await</h1><p>What if you could write async code like it was sync? ES7 provides a new feature called <code>async/await</code>. By combining it with promise, you can write async code in sync style!</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">IamAsync</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">IamAsync</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123; <span class="built_in">setTimeout</span>(resolve, <span class="number">3000</span>, <span class="string">&quot;World!&quot;</span>); &#125;);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// Hello</span></span><br><span class="line"><span class="comment">// (wait for 3 seconds...)</span></span><br><span class="line"><span class="comment">// World!</span></span><br></pre></td></tr></table></figure>

<p>Currently <code>async/await</code> is only available in Babel by running with <code>babel source.js -o compiled.js --stage 0</code> and beware that it is still in experiment, everything is subject to change.</p>
<h1 id="References-Resources"><a href="#References-Resources" class="headerlink" title="References &amp; Resources"></a>References &amp; Resources</h1><ul>
<li><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/6133574/how-to-articulate-the-difference-between-asynchronous-and-parallel-programming">How to articulate the difference between asynchronous and parallel programming?</a></li>
<li><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/4844637/what-is-the-difference-between-concurrency-parallelism-and-asynchronous-methods">What is the difference between concurrency, parallelism and asynchronous methods?</a></li>
<li><a target="_blank" rel="noopener" href="https://www.quora.com/How-does-a-single-thread-handle-asynchronous-code-in-JavaScript">How does a single thread handle asynchronous code in JavaScript?</a></li>
<li><a target="_blank" rel="noopener" href="https://www.discovermeteor.com/blog/understanding-sync-async-javascript-node/">Get the door, Javes! Understanding Sync &amp; Async in JavaScript</a></li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">Philip Roberts: What the heck is the event loop anyway? JSConf EU 2014</a></li>
<li><a target="_blank" rel="noopener" href="http://exploringjs.com/es6/ch_promises.html">Promises for asynchronous programming</a></li>
<li><a target="_blank" rel="noopener" href="https://code.tutsplus.com/tutorials/a-primer-on-es7-async-functions--cms-22367">A Primer on ES7 Async Functions</a></li>
<li><a target="_blank" rel="noopener" href="http://rossboucher.com/await/#/">ES7 Async&#x2F;Await</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.risingstack.com/asynchronous-javascript/">The Evolution of Asynchronous JavaScript</a></li>
<li><a target="_blank" rel="noopener" href="http://book.mixu.net/node/ch2.html">2. What is Node.js?</a></li>
<li><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/2734025/is-javascript-guaranteed-to-be-single-threaded">Is javascript guaranteed to be single-threaded?</a></li>
<li><a target="_blank" rel="noopener" href="https://www.quora.com/How-does-a-single-thread-handle-asynchronous-code-in-JavaScript">How does a single thread handle asynchronous code in JavaScript?</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zushenyan.github.io/2015/10/26/asynchronous-programming-in-javascript/" data-id="clo7rg5li001im7orauqd2av5" data-title="Asynchronous Programming in JavaScript" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/concurrent/" rel="tag">concurrent</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/meta/" rel="tag">meta</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/5/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/7/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
<div class="widget-wrap">
  <h3 class="widget-title">Archives</h3>
  <div class="widget">
    <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a></li></ul>
  </div>
</div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AJAX/" rel="tag">AJAX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CORS/" rel="tag">CORS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FP/" rel="tag">FP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GraphQL/" rel="tag">GraphQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP-HTTPS/" rel="tag">HTTP&#x2F;HTTPS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PWA/" rel="tag">PWA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/REST/" rel="tag">REST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/architecture/" rel="tag">architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backend/" rel="tag">backend</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/concurrent/" rel="tag">concurrent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/frontend/" rel="tag">frontend</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/interview/" rel="tag">interview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/meta/" rel="tag">meta</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/" rel="tag">mobile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/" rel="tag">network</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/octopress/" rel="tag">octopress</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/programming/" rel="tag">programming</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redux/" rel="tag">redux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/testing/" rel="tag">testing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/websocket/" rel="tag">websocket</a></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Andrew Yan<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>